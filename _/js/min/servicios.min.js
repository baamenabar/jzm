!function(){"use strict";var i={init:function(){var i=this;$(".servicio-item").each(function(){$(this).click(function(o){o.stopPropagation(),"item-active"!=$(this).find(".servicio-desc").attr("id")&&i.servicio(this)})}),$(window).on("click",function(){i.esconder()})},servicio:function(i){this.esconder();var o=this,t=$(i).find(".servicio-desc"),e=$(i).data("video"),r=$("body").prop("scrollWidth"),n=$("body").prop("scrollHeight"),s=!1;if(void 0!==e){var a=$(t).find(".servicio-video");a.length&&$(a).html("<p>Cargando video...</p>")}var c=$(t).outerHeight(),l=($(t).outerWidth(),$(i).offset().top+$(i).outerHeight());l+c>n&&(s=!0,$(t).css("top",-$(t).outerHeight()-20+"px")),s?$(t).hasClass("servicio-arrow-down")||$(t).addClass("servicio-arrow-down"):$(t).hasClass("servicio-arrow-up")||$(t).addClass("servicio-arrow-up"),$(i).outerWidth()+$(i).width()/2+$(i).offset().left>r&&$(t).addClass("servicio-desc-abierto-borde servicio-arrow-pull-right"),$(t).addClass("servicio-desc-abierto").attr("id","item-active").fadeIn(function(){var r;r=s?t:i,$("html, body").animate({scrollTop:$(r).offset().top-50},500,function(){if(void 0!==e&&a.length){$(a).html(o.video(e));var i=!1,r=new YT.Player(e,{events:{onStateChange:function(o){if(o.data==YT.PlayerState.PLAYING&&!i){if(console.log(YT.PlayerState.PLAYING),r.mute(),i=!0,$("html.touch").length){var n=$("#"+e).position().left+20;$(t).find(".video-controls").show().css({left:n+"px"})}window.addEventListener("orientationchange",function(){var i=$("#"+e).position().left+20;$(t).find(".video-controls").show().css({left:i+"px"})},!1)}o.data==YT.PlayerState.PLAYING?$("html.touch").length&&$(t).find(".video-controls").html("&#9612;&#9612;").removeClass("playing").off("click").on("click",function(){r.pauseVideo()}).show():o.data==YT.PlayerState.PAUSED?$("html.touch").length&&$(t).find(".video-controls").html("&#9658;").addClass("playing").off("click").on("click",function(){r.playVideo()}):o.data==YT.PlayerState.ENDED&&$("html.touch").length&&$(t).find(".video-controls").hide()}}})}})}).on("click",function(i){i.stopPropagation()}).parent().addClass("servicio-item-abierto"),$(t).find(".close").one("click",function(){o.esconder()})},esconder:function(){var i=$("#item-active");$(i).length&&($(i).find(".servicio-video").html(""),$(i).slideUp("slow",function(){$(i).removeClass("servicio-desc-abierto"),$(i).removeClass("servicio-arrow-down"),$(i).removeClass("servicio-arrow-up"),$(i).removeClass("servicio-arrow-pull-right"),$(i).removeClass("servicio-desc-abierto-borde")}).parent().removeClass("servicio-item-abierto"),$(i).removeAttr("id"))},video:function(i){return'<div class="video-controls">&#9612;&#9612;</div><iframe id="'+i+'" width="300" height="200" src="http://www.youtube.com/embed/'+i+"?rel=0&controls=0&enablejsapi=1&origin=http://"+document.domain+'" frameborder="0" allowfullscreen></iframe>'}},o={init:function(){$(window).scroll(function(){$(this).scrollTop()>100?$("#go-top").addClass("active"):$("#go-top").removeClass("active")}),$("#go-top").click(function(){return $("body,html").animate({scrollTop:0},800),!1})}},t={init:function(){$(".sub-categoria li").each(function(){var i=$(this).data("section");$(this).click(function(){$("body,html").animate({scrollTop:$("#"+i).offset().top},800)})})}};$(function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r),i.init(),o.init(),t.init()})}();